package = fig
version = '1.0.0'

topic = utils
topic = configuration
topic = settings
topic = 'file format'

dev {
  name = midbel
  repo = 'https://github.com/midbel'
  mail = 'dev@midbel.org'
  mail = 'noreply@midbel.org'
  mail = 'info@midbel.org'
}

# semver returns a string with a well formatted semantic version of the package
semver(major=0, minor=0, patch=0) {
  return join([major, minor, patch], sep='.')
}

mode_exec = 0o755
mode_doc  = 0o644
dir_exec  = '/usr/bin'
dir_doc   = '/usr/share/docs'

resource binary {
  path = "$dir_exec/figdebug"
  mode = $mode_exec
}

resource binary {
  path = "$dir_exec/figtest"
  mode = $mode_exec
}

resource doc {
  path = "docs/fig.1.gz"
  mode = $mode_doc
}

resource doc {
  path = "$dir_doc/README"
  mode = $mode_doc
}


resource {
  binary {
    path = "$dir_exec/figfmt"
    mode = $mode_exec
  }
  doc {
    path = "$dir_doc/licence"
    mode = $mode_doc
  }
}


/*
resource {
  binary {
    path = "$dir_exec/fig2json"
    mode = $mode_exec
  }
  binary {
    path = "$dir_exec/fig2toml"
    mode = $mode_exec
  }
  binary {
    path = "$dir_exec/json2fig"
    mode = $mode_exec
  }
  binary {
    path = "$dir_exec/toml2fig"
    mode = $mode_exec
  }
  doc {
    path = "$dir_doc/spec"
    mode = $mode_doc
  }
}
*/

curr_ver = 2

changelog {
  date    = 2021-05-07
  version = semver(minor=$curr_ver)
}

changelog {
  date    = 2021-05-07
  version = semver(minor=$curr_ver - 1)
}
